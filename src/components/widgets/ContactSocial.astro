---
import { Icon } from 'astro-icon/components';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Headline from '~/components/ui/Headline.astro';

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  tagline = await Astro.slots.render('tagline'),
  socials = [],

  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render('bg'),
} = Astro.props;
---

<WidgetWrapper id={id} isDark={isDark} containerClass={`max-w-5xl ${classes?.container ?? ''}`} bg={bg}>
  <div class='flex flex-col gap-8 md:gap-12'>
    <div class='md:pt-4 md:self-center'>
      <Headline
        title={title}
        subtitle={subtitle}
        tagline={tagline}
        classes={{
          title: 'text-3xl lg:text-4xl font-medium',
          ...((classes?.headline as object) ?? {}),
          container: 'mb-6 md:mb-6 lg:mb-6'
        }}
      />

      <div class="w-60 h-[2px] bg-gray-300 dark:bg-gray-700 mx-auto mb-6 rounded"></div>

      <ul class="flex flex-wrap justify-center gap-1 md:gap-1 lg:gap-1 list-none">
        {socials.map((item) => (
          <li class="inline-flex self-center intersect-once motion-safe:md:opacity-0 motion-safe:md:intersect:animate-fade intersect-quarter">
            {item.url ? (
              <a
                href={item.url}
                target="_blank"
                rel="noopener noreferrer"
                class="group inline-flex items-center gap-2 px-4 pt-0 pb-2 transition duration-200"
                aria-label={item.label}
              >
                {item.icon && <Icon name={item.icon} class="w-5 h-5 text-current transition duration-200 group-hover:text-blue-500 dark:group-hover:text-orange-300" />}
                <span class="text-sm font-medium text-gray-900 dark:text-gray-100 transition duration-200 group-hover:text-blue-500 dark:group-hover:text-orange-300">{item.label}</span>
              </a>
            ) : (
              <div class="group inline-flex items-center gap-2 px-4 pt-0 pb-2">
                {item.icon && <Icon name={item.icon} class="w-5 h-5 text-current transition duration-200 group-hover:text-blue-500 dark:group-hover:text-orange-300" />}
                <span class="text-sm font-medium text-gray-900 dark:text-gray-100 transition duration-200 group-hover:text-blue-500 dark:group-hover:text-orange-300">{item.label}</span>
              </div>
            )}
          </li>
        ))}
      </ul>
    </div>
  </div>
</WidgetWrapper>
